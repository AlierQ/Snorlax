{"version":3,"sources":["dynamic.js"],"names":["player","timer","undefined","index","speed","content","elements","demo","document","getElementById","style","events","$","selector","querySelectorAll","init","createTimer","bindEvents","run","string","length","clearTimer","innerText","substr","innerHTML","scrollTo","hasOwnProperty","eventName","eventFunctionName","addEventListener","setInterval","window","clearInterval","pause","play","setSpeed","btnSpeed","textContent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;AAEA;AACA,IAAMA,SAAS;AACX;AACAC,WAAMC,SAFK;AAGX;AACAC,WAAM,CAJK;AAKX;AACAC,WAAM,CANK;AAOX;AACAC,aAAQ,EARG;AASX;AACAC,cAAS;AACLC,cAAKC,SAASC,cAAT,CAAwB,MAAxB,CADA;AAELC,eAAMF,SAASC,cAAT,CAAwB,OAAxB;AAFD,KAVE;AAcX;AACAE,YAAO;AACH,qBAAY,CAAC,OAAD,EAAS,OAAT,CADT;AAEH,oBAAW,CAAC,OAAD,EAAS,MAAT,CAFR;AAGH,qBAAY,CAAC,OAAD,EAAS,UAAT;AAHT,KAfI;AAoBXC,OAAE,WAACC,QAAD,EAAY;AACV,eAAOL,SAASM,gBAAT,CAA0BD,QAA1B,CAAP;AACH,KAtBU;AAuBXE,UAAK,gBAAI;AACL;AACAf,eAAOC,KAAP,GAAeD,OAAOgB,WAAP,EAAf;AACAhB,eAAOiB,UAAP;AACH,KA3BU;AA4BXC,SAAI,eAAI;AACJ,YAAGlB,OAAOG,KAAP,GAAegB,cAAOC,MAAzB,EAAgC;AAC5BpB,mBAAOqB,UAAP;AACA;AACH;AACDrB,eAAOM,QAAP,CAAgBC,IAAhB,CAAqBe,SAArB,GAAiCH,cAAOI,MAAP,CAAc,CAAd,EAAgBvB,OAAOG,KAAvB,CAAjC;AACAH,eAAOM,QAAP,CAAgBI,KAAhB,CAAsBc,SAAtB,GAAkCL,cAAOI,MAAP,CAAc,CAAd,EAAgBvB,OAAOG,KAAvB,CAAlC;AACAH,eAAOG,KAAP;AACAH,eAAOM,QAAP,CAAgBC,IAAhB,CAAqBkB,QAArB,CAA8B,CAA9B,EAAgC,IAAhC;AACH,KArCU;AAsCXR,gBAAW,sBAAI;AACX;AACA,aAAI,IAAIJ,QAAR,IAAoBb,OAAOW,MAA3B,EAAkC;AAC9B;AACA,gBAAGX,OAAOW,MAAP,CAAce,cAAd,CAA6Bb,QAA7B,CAAH,EAA0C;AACtC,oBAAIc,YAAY3B,OAAOW,MAAP,CAAcE,QAAd,EAAwB,CAAxB,CAAhB;AACA,oBAAIe,oBAAoB5B,OAAOW,MAAP,CAAcE,QAAd,EAAwB,CAAxB,CAAxB;AACAb,uBAAOY,CAAP,CAASC,QAAT,EAAmB,CAAnB,EAAsBgB,gBAAtB,CAAuCF,SAAvC,EAAiD3B,OAAO4B,iBAAP,CAAjD;AACH;AACJ;AACJ,KAhDU;AAiDXZ,iBAAY,uBAAI;AACZ,eAAOc,YAAY9B,OAAOkB,GAAnB,EAAuBlB,OAAOI,KAAP,GAAa,CAApC,CAAP;AACH,KAnDU;AAoDXiB,gBAAW,sBAAI;AACXU,eAAOC,aAAP,CAAqBhC,OAAOC,KAA5B;AACH,KAtDU;AAuDXgC,WAAM,iBAAI;AACNjC,eAAOqB,UAAP;AACH,KAzDU;AA0DXa,UAAK,gBAAI;AACLlC,eAAOC,KAAP,GAAeD,OAAOgB,WAAP,EAAf;AACH,KA5DU;AA6DXmB,cAAS,oBAAI;AACTnC,eAAOI,KAAP,GAAe,CAAf,KAAqB,CAArB,GAA0BJ,OAAOI,KAAP,GAAe,CAAzC,GAA6CJ,OAAOI,KAAP,EAA7C;AACAJ,eAAOqB,UAAP;AACArB,eAAOC,KAAP,GAAeD,OAAOgB,WAAP,EAAf;AACAoB,iBAASC,WAAT,GAAuB,SAAO,IAAErC,OAAOI,KAAhB,IAAuB,GAA9C;AACH;AAlEU,CAAf;;AAqEAJ,OAAOe,IAAP","file":"dynamic.6d0611c6.map","sourceRoot":"..\\src","sourcesContent":["import string from './css.js'\r\n\r\n// 封装播放控制组件\r\nconst player = {\r\n    // 计时器\r\n    timer:undefined,\r\n    // 打印位置\r\n    index:1,\r\n    // 速度\r\n    speed:5,\r\n    // 内容\r\n    content:'',\r\n    // 元素\r\n    elements:{\r\n        demo:document.getElementById('demo'),\r\n        style:document.getElementById('style')\r\n    },\r\n    //元素事件\r\n    events:{\r\n        '#btnPause':['click','pause'],\r\n        '#btnPlay':['click','play'],\r\n        '#btnSpeed':['click','setSpeed'],\r\n    },\r\n    $:(selector)=>{\r\n        return document.querySelectorAll(selector);\r\n    },\r\n    init:()=>{\r\n        // 创建计时器，开始工作 \r\n        player.timer = player.createTimer(); \r\n        player.bindEvents();\r\n    },\r\n    run:()=>{\r\n        if(player.index > string.length){\r\n            player.clearTimer();\r\n            return;\r\n        }\r\n        player.elements.demo.innerText = string.substr(0,player.index)\r\n        player.elements.style.innerHTML = string.substr(0,player.index)\r\n        player.index++;\r\n        player.elements.demo.scrollTo(0,9999);\r\n    },\r\n    bindEvents:()=>{\r\n        // for循环遍历对象的时候可能会拿到原型中继承而来的属性\r\n        for(let selector in player.events){\r\n            // 判断自身属性\r\n            if(player.events.hasOwnProperty(selector)){\r\n                let eventName = player.events[selector][0];\r\n                let eventFunctionName = player.events[selector][1];\r\n                player.$(selector)[0].addEventListener(eventName,player[eventFunctionName])\r\n            }\r\n        }\r\n    },\r\n    createTimer:()=>{\r\n        return setInterval(player.run,player.speed*8)\r\n    },\r\n    clearTimer:()=>{\r\n        window.clearInterval(player.timer);\r\n    },\r\n    pause:()=>{\r\n        player.clearTimer();\r\n    },\r\n    play:()=>{\r\n        player.timer = player.createTimer();\r\n    },\r\n    setSpeed:()=>{\r\n        player.speed - 1 === 0 ?  player.speed = 5 : player.speed--\r\n        player.clearTimer()\r\n        player.timer = player.createTimer();\r\n        btnSpeed.textContent = '速度 '+(6-player.speed)+'x'\r\n    }\r\n}\r\n\r\nplayer.init()\r\n"]}